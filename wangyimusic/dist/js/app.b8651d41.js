(function(t){function e(e){for(var a,i,r=e[0],u=e[1],c=e[2],l=0,d=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(a=!1)}a&&(s.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},i={app:0},o={app:0},s=[];function r(t){return u.p+"js/"+({about:"about"}[t]||t)+"."+{about:"37afab08"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={about:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"9ee53493"}[t]+".css",o=u.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var c=s[r],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],l=c.getAttribute("data-href");if(l===a||l===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete i[t],p.parentNode.removeChild(p),n(s)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){i[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=r(t);var d=new Error;c=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}o[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("67b1");var a=n("33c4"),i=(n("c381"),n("2dee")),o=(n("531b"),n("143e")),s=(n("bd06"),n("bc0c")),r=(n("895d"),n("cb07")),u=(n("e3c8"),n("f0bc")),c=(n("a272"),n("3cd7")),l=(n("5d33"),n("b099")),d=(n("7c2e"),n("00b4")),p=(n("7f7c"),n("a3a9")),h=(n("5114"),n("08d1")),f=(n("9095"),n("ef34")),m=(n("2ac9"),n("29a2")),g=(n("85f7"),n("f69b")),v=(n("79fc"),n("9220")),y=(n("1606"),n("2c95")),b=(n("eb39"),n("01b9")),k=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.audioSrc,expression:"audioSrc==''? false:true"}],ref:"player",staticClass:"player-music",on:{click:t.goplay}},[n("div",[n("div",{staticClass:"player-left"},[n("div",{staticClass:"player-img"},[n("img",{attrs:{src:t.picUrl,alt:""}})]),n("div",{staticClass:"player-message"},[n("div",{staticClass:"message-top"},[n("span",{staticClass:"musicename"},[t._v(t._s(t.audiodetail.name)+t._s(""==t.audiodetail?"":t.audiodetail.alia[0]))])]),n("div",{staticClass:"message-bom"},[n("div",{},[t._v(t._s(t.lyric))])])])]),n("div",{staticClass:"player-right"},[n("div",{staticClass:"iconfont",on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[t._v(t._s(0==t.status?"":""))]),n("div",{staticClass:"iconfont",on:{click:function(e){return e.stopPropagation(),t.popup(e)}}},[t._v("")])])])]),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"nowplay"},[t._v(" 当前播放 "),n("span",{staticClass:"nownum"},[t._v("("+t._s(t.audiocoollets.length)+")")])]),n("div",{staticClass:"control"},[n("div",{staticClass:"pattern"},t._l(t.pattern,(function(e,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.ischeak,expression:"value.ischeak"}],key:a,staticClass:"iconfont",on:{click:function(n){return t.changepattern(e,a)}}},[n("span",{domProps:{innerHTML:t._s(e.icon)}}),n("span",[t._v(t._s(e.title))])])})),0)]),n("div",{staticClass:"audiocoollets-list"},t._l(t.audiocoollets,(function(e,a){return n("div",{key:a,staticClass:"listcoollets-item",class:[a==t.audioindex?"active":""],on:{click:function(n){return t.playmusic(e,a)}}},[a==t.audioindex?n("div",{staticClass:"iconfont"},[t._v("")]):t._e(),n("div",{staticClass:"listname"},[t._v(t._s(e.name))]),t._v("- "),n("div",{staticClass:"itemname"},[t._v(t._s(e.ar[0].name))])])})),0)]),n("audio",{ref:"audio",attrs:{src:t.audioSrc},on:{timeupdate:t.timeupdate,ended:t.ended,canplay:t.canplay,durationchange:t.durationchange}},[n("source",{attrs:{src:t.audioSrc,type:"audio/ogg"}}),n("source",{attrs:{src:t.audioSrc,type:"audio/mpeg"}}),t._v("您的浏览器不支持 audio 元素。 ")])],1)},_=[],x=(n("d81d"),n("5530")),C=n("2f62"),S=Object(C["a"])("playermusicstore"),A=S.mapState,M=S.mapActions,O={data:function(){return{lyric:"",show:!1,pattern:[{icon:"&#xe506;",start:0,ischeak:!1,title:"单曲循环"},{icon:"&#xe619;",start:1,ischeak:!1,title:"随机"},{icon:"&#xe60b;",start:2,ischeak:!1,title:"列表循环"}]}},created:function(){var t=this;this.$nextTick((function(){console.log(t.$refs.audio),t.setAudio(t.$refs.audio);var e=t.$refs.audio.volume;console.log("volume",e),t.changeplayervolume(e)})),this.$nextTick((function(){console.log(t.$refs.player),t.setplayer(t.$refs.player)}))},computed:Object(x["a"])(Object(x["a"])({},A(["audioSrc","audio","status","audiodetail","lyricArray","timeupdates","audiocoollets","patternstatus","audioindex"])),{},{picUrl:function(){var t,e=this.$store.state.playermusicstore;return t=""==e.audiodetail?"aaa":e.audiodetail.al.picUrl,t}}),methods:Object(x["a"])(Object(x["a"])(Object(x["a"])({},M(["setAudio","changeMusicStatus","setplayer","gettimeupdates","changeplayervolume","changestatus","addPlayedMusic","changeAudioSrc","changeAudioindex","parseLyric"])),Object(C["c"])(["changeshow"])),{},{play:function(){var t=this,e=0==this.status?"play":"pause",n=0==this.status?1:0;this.changeMusicStatus(n).then((function(){t.audio[e]()}))},timeupdate:function(){var t=Math.floor(this.audio.currentTime),e=this.lyricArray[t];this.gettimeupdates(t),void 0!=e&&(this.lyric=e)},popup:function(){var t=this;this.show=!this.show,this.pattern.map((function(e){e.start==t.patternstatus?e.ischeak=!0:e.ischeak=!1}))},durationchange:function(){this.lyric=this.lyricArray[0]},changepattern:function(t,e){t.ischeak=!1;var n=e;n++,n>=3&&(n=0),this.pattern[n].ischeak=!0,this.changestatus(n)},ended:function(){var t=this,e=this.audioindex;console.log("this.patternstatus",this.patternstatus),1==this.patternstatus?(e=Math.floor(Math.random()*this.audiocoollets.length),this.changeAudioindex(e).then((function(e){console.log("xudio",e),t.playmusic(null,e)}))):2==this.patternstatus?(e++,e>this.audiocoollets.length-1&&(e=0),this.changeAudioindex(e).then((function(e){console.log("xudio",e),t.playmusic(null,e)}))):(e=this.audioindex,this.changeAudioindex(e).then((function(e){console.log("xudio",e),t.playmusic(null,e)})))},goplay:function(){this.$router.push({name:"playermusic"})},canplay:function(){this.audio.play(),this.changeMusicStatus(1)},playmusic:function(t,e){var n=this;console.log(t);var a,i=t;t&&(a=i.id,null==t.url)?this.$toast("因api不提供url原因，该资源无法播放"):(t||(console.log("进来了"),i=this.audiocoollets[e],console.log("进来了",i),a=i.id,console.log("进来了",a)),this.axios({method:"GET",url:"/lyric",withCredentials:!0,params:{id:a}}).then((function(t){var e;console.log("请求歌词成功",t),e=t.data.needDesc?"纯音乐。请您欣赏":t.data.lrc.lyric,n.parseLyric(e)})).catch((function(t){console.log(t)})),this.changeAudioindex(e),this.changeAudioSrc(i).then((function(t){t.currentTime=0,n.addPlayedMusic(i)})))}})},j=O,P=(n("be8b"),n("2877")),L=Object(P["a"])(j,w,_,!1,null,"81cd879a",null),T=L.exports,$=(n("d3b7"),n("8c4f"));k["a"].use($["a"]);var E=[{path:"/login",name:"Login",component:function(){return n.e("about").then(n.bind(null,"0a0c"))}},{path:"/loading",name:"loading",component:function(){return n.e("about").then(n.bind(null,"53be"))}},{path:"/register",name:"Register",component:function(){return n.e("about").then(n.bind(null,"bc14"))}},{path:"/register2",name:"Register2",component:function(){return n.e("about").then(n.bind(null,"3a37"))}},{path:"/selphone",name:"Selphone",component:function(){return n.e("about").then(n.bind(null,"8a1a"))}},{path:"/phonepassworld",name:"Phonepassworld",component:function(){return n.e("about").then(n.bind(null,"3afa"))}},{path:"/get",name:"get",component:function(){return n.e("about").then(n.bind(null,"094b"))}},{path:"/songistdetails",name:"Songistdetails",component:function(){return n.e("about").then(n.bind(null,"99ec"))}},{path:"/playermusic",name:"playermusic",component:function(){return n.e("about").then(n.bind(null,"6ddb"))}},{path:"/recentlyplay",name:"recentlyplay",component:function(){return n.e("about").then(n.bind(null,"5436"))}},{path:"/daily",name:"daily",component:function(){return n.e("about").then(n.bind(null,"33ae"))}},{path:"/rankinglist",name:"rankinglist",component:function(){return n.e("about").then(n.bind(null,"abc0"))}},{path:"/main",name:"Main",component:function(){return n.e("about").then(n.bind(null,"cd56"))},children:[{path:"my",name:"My",component:function(){return n.e("about").then(n.bind(null,"8cc4"))}},{path:"city",name:"City",component:function(){return n.e("about").then(n.bind(null,"bcd4"))}},{path:"fine",name:"Fine",component:function(){return n.e("about").then(n.bind(null,"add6"))}},{path:"movie",name:"Movie",component:function(){return n.e("about").then(n.bind(null,"0d4c"))}}]},{path:"*",redirect:{name:"loading"}}],N=new $["a"]({routes:E}),U=N,F={phone:"",uid:"",cookie:""},R={},q={},B={loging:function(t,e){t.phone=e},gainidcokie:function(t,e){t.uid=e.uid,t.cookie=e.cookie}},D={namespaced:!0,state:F,actions:R,mutations:B,getters:q},H={profile:"",profiles:"",personagemusics:"",mylikemusic:"",collectmusics:"",mylikemusicids:"",myFM:""},I={},J={},G={gaininfo:function(t,e){t.profile=e,t.profiles=e.profile},gainpersonagemusics:function(t,e){t.personagemusics=e.mymusics,t.mylikemusic=e.mylike,t.collectmusics=e.qitamusics},gainmylikemusicids:function(t,e){t.mylikemusicids=e},gainmyFM:function(t,e){t.myFM=e}},K={namespaced:!0,state:H,actions:I,mutations:G,getters:J},z={audio:null,scrolltops:null,player:null,playervolume:0,status:0,patternstatus:0,audioSrc:"",audiodetail:"",lyricArray:"",cickaudiocooles:"",songlist:"",songlistitem:"",timeupdates:0,audiocoollets:[],audioindex:"",playedMusicList:[],bannerlist:[]},Q=(n("fb6a"),n("a9e3"),n("ac1f"),n("466d"),n("5319"),n("1276"),{setAudio:function(t,e){var n=t.state;n.audio=e},setscrolltops:function(t,e){var n=t.state;n.scrolltops=e},setplayer:function(t,e){var n=t.state;n.player=e},changestatus:function(t,e){var n=t.state;n.patternstatus=e},changeAudioSrc:function(t,e){var n=t.state;return n.audiodetail=e,n.audioSrc=e.url,n.status=1,n.audio},changeplayervolume:function(t,e){var n=t.state;return n.playervolume=e,e},changeAudioindex:function(t,e){var n=t.state;return n.audioindex=e,e},addPlayedMusic:function(t,e){for(var n=t.state,a=0;a<n.playedMusicList.length;a++)if(n.playedMusicList[a].id==e.id)return;console.log("添加音乐成功"),n.playedMusicList.unshift(e)},changeAudiocoleect:function(t,e){var n=t.state;n.audiocoollets=e},changeseecoleect:function(t,e){var n=t.state;n.cickaudiocooles=e},changesonglist:function(t,e){var n=t.state;n.songlist=e},changesonglistitem:function(t,e){var n=t.state;n.songlistitem=e},changeMusicStatus:function(t,e){var n=t.state;n.status=e},gettimeupdates:function(t,e){var n=t.state;n.timeupdates=e},parseLyric:function(t,e){var n=t.state;return function(t){if("纯音乐。请您欣赏"!=t){for(var e=t.split("\n"),a={},i=0;i<e.length;i++){t=decodeURIComponent(e[i]);var o=/\[\d*:\d*((\.|\:)\d*)*\]/g,s=t.match(o);if(s){var r=t.replace(o,"");if(""!=r)for(var u=0,c=s.length;u<c;u++){var l=s[u],d=Number(String(l.match(/\[\d*/i)).slice(1)),p=Number(String(l.match(/\:\d*/i)).slice(1)),h=60*d+p;a[h]=r}}}return n.lyricArray=a,n.lyricArray}n.lyricArray=t}(e)},getbannerlist:function(t,e){var n=t.state;n.bannerlist=e}}),V={},W={namespaced:!0,state:z,actions:Q,getters:V};k["a"].use(C["b"]);var X=new C["b"].Store({state:{},mutations:{},modules:{infostore:D,infomusicstore:K,playermusicstore:W}}),Y=(n("a342"),n("44ce"),n("82ae")),Z=n.n(Y),tt=n("e7aa"),et=n.n(tt);k["a"].use(et.a,Z.a),k["a"].use(a["a"]).use(i["a"]).use(o["a"]).use(s["a"]).use(r["a"]).use(u["a"]).use(c["a"]).use(l["a"]).use(d["a"]).use(p["a"]).use(h["a"]).use(f["a"]).use(m["a"]).use(g["a"]).use(v["a"]).use(y["a"]).use(b["a"]),Z.a.defaults.baseURL="http://59.110.1.81:3000/",k["a"].config.productionTip=!1;var nt=$["a"].prototype.push;$["a"].prototype.push=function(t){return nt.call(this,t).catch((function(t){return t}))},new k["a"]({store:X,router:U,render:function(t){return t(T)}}).$mount("#app")},"6eee":function(t,e,n){},a342:function(t,e,n){},be8b:function(t,e,n){"use strict";var a=n("6eee"),i=n.n(a);i.a}});
//# sourceMappingURL=app.b8651d41.js.map